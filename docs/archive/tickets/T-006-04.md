---
id: T-006-04
story: S-006
title: tts-validation-tests
type: task
status: done
priority: medium
phase: done
depends_on: [T-006-03]
blocks: []
---

## Context

Write end-to-end validation tests that exercise the full TTS pipeline: scene with narration → Kokoro synthesis → audio assembly → .mp4 with audible speech.

The tests:
1. Synthesize speech for a short text, verify AudioClip properties
2. Build a scene with narration, verify timeline durations update after TTS
3. Full pipeline: scene → .mp4, verify output has audio stream with non-silence

All tests gated behind #[ignore] since they require the Kokoro ONNX model files.

Files: moron-voice/tests/tts.rs (new), moron-core/tests/e2e.rs (extend)

## Acceptance Criteria

- TTS synthesis test verifies audio output properties
- Timeline duration test verifies TTS-driven pacing
- Full pipeline test produces .mp4 with speech
- All tests gated for CI (need model files)
- Documents how to download model and run tests
- All existing tests continue to pass
