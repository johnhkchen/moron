---
id: T-003-01
story: S-003
title: implement-timeline-data-structure
type: task
status: done
priority: high
phase: done
depends_on: [T-002-05]
blocks: [T-003-03, T-003-04]
---

## Context

Implement the timeline data structure in moron-core. The timeline tracks the progression of a video from start to finish â€” it contains segments (narration, animation, silence) and resolves to frame numbers at a given FPS.

Define:
- `Timeline` struct: ordered list of segments, total duration, current position
- `Segment` enum: Narration { text, duration }, Animation { technique_id, duration }, Silence { duration }, Clip { path, duration }
- `TimelineBuilder`: fluent API for constructing timelines
- Methods: `add_segment()`, `total_duration()`, `frame_at(time: f64, fps: u32) -> u32`, `segments_in_range(start: f64, end: f64)`

Files: moron-core/src/timeline.rs

## Acceptance Criteria

- Timeline struct with segment storage and duration tracking
- Segment enum with at least 3 variants
- Can add segments and query total duration
- frame_at() correctly maps time to frame numbers
- `cargo check` passes
- Unit tests: timeline construction, duration calculation, frame mapping
