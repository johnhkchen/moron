---
id: S-010
title: parallel-rendering-pipeline
type: story
status: open
priority: high
---

## Parallel Rendering Pipeline

A 1000-frame video takes ~33 seconds to render. Profiling suggests the bottleneck is sequential Chrome frame capture — one screenshot at a time through a single browser page. Frame state computation is pure Rust and fast, but still runs sequentially. PNG I/O is also serial.

This story introduces concurrency across the rendering pipeline: multiple Chrome pages capturing frames simultaneously, Rayon-parallelized frame state computation, and pipelined I/O. The goal is a measurable wall-clock improvement on 1000+ frame videos with identical output.

### Tickets

| ID | Title | Depends On | Summary |
|----|-------|------------|---------|
| T-010-01 | profile-rendering-bottleneck | — | Instrument and benchmark the current pipeline to quantify where time is spent |
| T-010-02 | parallel-frame-computation | T-010-01 | Rayon-parallelize frame state computation and JSON serialization |
| T-010-03 | concurrent-frame-capture | T-010-01 | Multiple Chrome pages capturing frames concurrently via async pipeline |
| T-010-04 | pipeline-benchmark | T-010-02, T-010-03 | End-to-end before/after comparison, verify output equivalence |

### DAG

```
T-010-01 ──→ T-010-02 ──→ T-010-04
         └──→ T-010-03 ──→ ↑
```

T-010-02 and T-010-03 can run in parallel after profiling. T-010-04 validates the combined result.
